(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[95],{3155:function(e,a,t){"use strict";t.r(a);var l=t(8),n=t.n(l),m=t(19),i=t(0),s=t.n(i),c=t(2375),r=t(1201),o=t(2241),u=t(46),d=t(426),E=t(568),p=t(144),v=t(606),h=t(69),g=t(2198),N=t(447),b=t(12),f=t(1123),x=t(2283),y=t(1127),C=t(1125),S=t(1124),z=t(434),w=t(224),F=t(3187),I=t(44),D=t.n(I);const T=e=>{if(!e.discount)return e.price*e.quantity||0;if("$"===e.discountType){return e.price*e.quantity-e.discount||0}{let a=e.price*e.quantity;return a-a*e.discount/100||0}};var k=({values:e,handleChange:a,setFieldValue:t})=>{const l=Object(i.useState)(!0),n=Object(b.a)(l,2),m=n[0],r=n[1],o=Object(i.useState)([]),u=Object(b.a)(o,2),h=u[0],g=u[1];return Object(i.useEffect)(()=>(D.a.get("/api/ecommerce/get-product-list").then(({data:e})=>{m&&g(e)}),()=>r(!1)),[m]),s.a.createElement(c.a,{name:"items"},t=>{var l;return s.a.createElement("div",{className:"overflow-auto"},s.a.createElement(f.a,{className:"whitespace-pre min-w-750"},s.a.createElement(x.a,null,s.a.createElement(y.a,null,s.a.createElement(C.a,{colSpan:7},"Item Details"),s.a.createElement(C.a,{colSpan:2},"Quantity "),s.a.createElement(C.a,{colSpan:2},"Rate"),s.a.createElement(C.a,{colSpan:2},"Discount"),s.a.createElement(C.a,{colSpan:2,align:"center"},"Amount"),s.a.createElement(C.a,{colSpan:1,className:"p-0",align:"center"}))),s.a.createElement(S.a,null,null===(l=e.items)||void 0===l?void 0:l.map((e,l)=>s.a.createElement(y.a,{className:"position-relative",key:l},s.a.createElement(C.a,{colSpan:7,className:"p-0",align:"left"},s.a.createElement("div",{className:"flex items-center"},s.a.createElement("img",{className:"w-48",src:null===e||void 0===e?void 0:e.imgUrl,alt:""}),s.a.createElement(F.a,{className:"w-full",size:"small",options:h,getOptionLabel:e=>e.title,renderInput:e=>s.a.createElement(d.a,Object.assign({},e,{variant:"outlined",fullWidth:!0})),onChange:(e,t)=>{a({target:{name:"items[".concat(l,"]"),value:t}})}}))),s.a.createElement(C.a,{colSpan:2,className:"p-0",align:"left"},s.a.createElement(d.a,{name:"items[".concat(l,"].quantity"),size:"small",variant:"outlined",type:"number",fullWidth:!0,defaultValue:e.quantity||"",onChange:a})),s.a.createElement(C.a,{colSpan:2,className:"p-0",align:"left"},s.a.createElement(d.a,{name:"items[".concat(l,"].price"),size:"small",variant:"outlined",type:"number",fullWidth:!0,value:e.price||"",onChange:a})),s.a.createElement(C.a,{colSpan:2,className:"p-0",align:"left"},s.a.createElement(d.a,{name:"items[".concat(l,"].discount"),size:"small",variant:"outlined",type:"number",fullWidth:!0,value:e.discount||"",onChange:a,InputProps:{style:{paddingRight:0},endAdornment:s.a.createElement(z.a,{name:"items[".concat(l,"].discountType"),margin:"none",variant:"standard",disableUnderline:!0,value:e.discountType||"%",onChange:a},s.a.createElement(E.a,{value:"$"},"$"),s.a.createElement(E.a,{value:"%"},"%"))}})),s.a.createElement(C.a,{colSpan:2,className:"p-0",align:"center"},T(e).toFixed(2)),s.a.createElement(C.a,{colSpan:1,className:"p-0",align:"center"},s.a.createElement(w.a,{size:"small",onClick:()=>t.remove(l)},s.a.createElement(v.a,{color:"error",fontSize:"small"},"clear"))))))),s.a.createElement(p.a,{className:"mt-4",color:"primary",variant:"contained",size:"small",onClick:()=>t.push({})},"+ Add New Item"))})};const O=["NET 15","NET 30","NET 45","NET 60","Due end of the month","Due on receive"],j=["customer 1","customer 2","customer 3","customer 4","customer 5","customer 6","customer 7","customer 8"],V={customerType:"",otherField:"Adjustment"};a.default=()=>{const e=(e=[])=>{let a=0;return e.forEach(e=>{a+=T(e)}),a},a=function(){var e=Object(m.a)(n.a.mark((function e(a,{isSubmitting:t}){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"m-sm-30"},s.a.createElement(r.a,{elevation:3},s.a.createElement("div",{className:"flex p-4"},s.a.createElement("h4",{className:"m-0"},"New Invoice")),s.a.createElement(o.a,{className:"mb-2"}),s.a.createElement(c.b,{initialValues:V,onSubmit:a,enableReinitialize:!0},({values:a,errors:t,touched:l,handleChange:n,handleBlur:m,handleSubmit:i,isSubmitting:c,setSubmitting:b,setFieldValue:f})=>s.a.createElement("form",{className:"p-4",onSubmit:i},s.a.createElement(u.a,{container:!0,spacing:3,alignItems:"center"},s.a.createElement(u.a,{item:!0,md:2,sm:4,xs:12},"Customer Name"),s.a.createElement(u.a,{item:!0,md:10,sm:8,xs:12},s.a.createElement(d.a,{className:"min-w-188",label:"Name",name:"customerName",size:"small",variant:"outlined",select:!0,value:a.customerName||"",onChange:n},j.map((e,a)=>s.a.createElement(E.a,{value:e,key:e},e)))),s.a.createElement(u.a,{item:!0,md:2,sm:4,xs:12},"Invoice#"),s.a.createElement(u.a,{item:!0,md:10,sm:8,xs:12},s.a.createElement(d.a,{label:"Invoice No",name:"invoiceNo",size:"small",variant:"outlined",defaultValue:"INV-000001",value:a.invoiceNo,onChange:n})),s.a.createElement(u.a,{item:!0,md:2,sm:4,xs:12},"Order Number"),s.a.createElement(u.a,{item:!0,md:10,sm:8,xs:12},s.a.createElement(d.a,{label:"Invoice No",name:"orderNo",size:"small",variant:"outlined",value:a.orderNo,onChange:n})),s.a.createElement(u.a,{item:!0,md:2,sm:4,xs:12},"Invoice Date"),s.a.createElement(u.a,{item:!0,md:10,sm:8,xs:12},s.a.createElement("div",{className:"flex flex-wrap m--2"},s.a.createElement(h.a,{utils:N.a},s.a.createElement(g.b,{className:"m-2",margin:"none",label:"Invoice Date",inputVariant:"outlined",type:"text",size:"small",autoOk:!0,value:a.invoiceDate,format:"MMMM dd, yyyy",onChange:e=>f("invoiceDate",e)})),s.a.createElement(d.a,{className:"m-2 min-w-188",label:"Terms",name:"terms",size:"small",variant:"outlined",value:a.terms||"",onChange:n,select:!0},O.map((e,a)=>s.a.createElement(E.a,{value:e,key:e},e))),s.a.createElement(h.a,{utils:N.a},s.a.createElement(g.b,{className:"m-2",margin:"none",label:"Due Date",inputVariant:"outlined",type:"text",size:"small",autoOk:!0,value:a.dueDate,format:"MMMM dd, yyyy",onChange:e=>f("dueDate",e)})))),s.a.createElement(u.a,{item:!0,xs:12},s.a.createElement(o.a,null)),s.a.createElement(u.a,{item:!0,md:2,sm:4,xs:12},"Salesperson Name"),s.a.createElement(u.a,{item:!0,md:10,sm:8,xs:12},s.a.createElement(d.a,{className:"min-w-188",label:"Salesperson Name",name:"salesPersonName",size:"small",variant:"outlined",value:a.salesPersonName||"",onChange:n,select:!0},j.map((e,a)=>s.a.createElement(E.a,{value:e,key:e},e)))),s.a.createElement(u.a,{item:!0,xs:12},s.a.createElement(o.a,null))),s.a.createElement("div",{className:"mb-8"},s.a.createElement(k,{values:a,setFieldValue:f,handleChange:n})),s.a.createElement("div",{className:"mb-8"},s.a.createElement(u.a,{container:!0,spacing:3},s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement(d.a,{label:"Custom Notes",name:"notes",size:"small",variant:"outlined",multiline:!0,rows:6,fullWidth:!0,value:a.notes,onChange:n})),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement(r.a,{className:"bg-default p-4",elevation:0},s.a.createElement(u.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center"},s.a.createElement(u.a,{item:!0,xs:6},"Sub Total"),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"text-right"},e(a.items).toFixed(2))),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"flex items-center"},s.a.createElement("span",{className:"whitespace-pre"},"Shipping Charges"),s.a.createElement(d.a,{className:"ml-3",name:"shippingCharge",size:"small",type:"number",variant:"outlined",value:a.shippingCharge||"",onChange:n}))),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"text-right"},(a.shippingCharge||0).toFixed(2))),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"flex items-center"},s.a.createElement(d.a,{name:"otherField",size:"small",variant:"outlined",value:a.otherField||"",onChange:n}),s.a.createElement(d.a,{className:"ml-3",name:a.otherField,size:"small",variant:"outlined",type:"number",value:a[a.otherField]||"",onChange:n}))),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"text-right"},(a[a.otherField]||0).toFixed(2))),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("h5",{className:"m-0"},"Total ( $ )")),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("div",{className:"text-right"},s.a.createElement("h5",{className:"m-0"},(a=>{let t=0;return t+=e(a.items),t+=a.shippingCharge||0,t+=a[a.otherField]||0,t})(a).toFixed(2))))))))),s.a.createElement(r.a,{className:"bg-default p-4",elevation:0},s.a.createElement(u.a,{container:!0,spacing:3},s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement(d.a,{label:"Terms & Conditions",name:"terms_conditions",size:"small",variant:"outlined",multiline:!0,rows:6,fullWidth:!0,value:a.terms_conditions,onChange:n})),s.a.createElement(u.a,{item:!0,xs:6},s.a.createElement("label",{htmlFor:"upload-multiple-file"},s.a.createElement(p.a,{className:"capitalize",color:"primary",component:"span",variant:"contained"},s.a.createElement("div",{className:"flex items-center"},s.a.createElement(v.a,{className:"pr-8"},"cloud_upload"),s.a.createElement("span",null,"Upload File")))),s.a.createElement("input",{className:"hidden",onChange:e=>f("files",e.target.files),id:"upload-multiple-file",type:"file",multiple:!0})))),s.a.createElement("div",{className:"mt-6"},s.a.createElement(p.a,{color:"primary",variant:"contained",type:"submit"},"Submit"))))))}}}]);