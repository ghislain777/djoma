(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[127],{3118:function(e,a,t){"use strict";t.r(a);var l=t(6),m=t(26),c=t(0),r=t.n(c),n=t(224),s=t(606),i=t(1128),d=t(2302),o=t(758),b=t(766),p=t(12),u=t(2356),E=t(2179),v=t(1198),f=t(556),N=t(144),x=t(2241),h=t(426),g=t(46),j=t(1201),O=t(568),y=t(41),k=t(269),C=t(789),w=t.n(C),z=t(95),I=t(445),S=t(115);var A=({open:e,card:a,handleClose:t})=>{const m=Object(c.useState)({}),u=Object(p.a)(m,2),C=u[0],A=u[1],P=Object(I.c)(),T=Object(y.a)(),D=Object(E.a)(T.breakpoints.down("sm")),M=Object(I.d)(e=>e).user,L=void 0===M?{}:M,B=Object(I.d)(e=>e.scrumboard),K=B.board,R=void 0===K?{}:K,_=B.memberList,W=void 0===_?[]:_,H=B.labelList,F=void 0===H?[]:H,J=()=>{t()},U=e=>{let a=e.target,t=a.value;if("avatar"===a.name){let e=C.cardMembers,m=C.boardMembers.find(e=>e.id===t);a.checked?(e.push(m),A(Object(l.a)(Object(l.a)({},C),{},{cardMembers:e}))):(e.splice(e.indexOf(m),1),A(Object(l.a)(Object(l.a)({},C),{},{cardMembers:e})))}else if("label"===a.name){let e=C.labels,m=F.find(e=>e.id===parseInt(t));a.checked?(e.push(m),A(Object(l.a)(Object(l.a)({},C),{},{labels:e}))):(e.splice(e.indexOf(m),1),A(Object(l.a)(Object(l.a)({},C),{},{labels:e})))}else"Enter"!==e.key||e.shiftKey||"commentText"!==a.name?A(Object(l.a)(Object(l.a)({},C),{},{[e.target.name]:e.target.value})):(A(Object(l.a)(Object(l.a)({},C),{},{[e.target.name]:e.target.value})),q())},q=()=>{let e=C.comments,a=void 0===e?[]:e,t=C.commentText;""!==t.trim()&&(a.push({id:Object(k.c)(),uid:L.userId,text:t.trim(),time:new Date}),t=""),A(Object(l.a)(Object(l.a)({},C),{},{comments:a,commentText:t}))};Object(c.useEffect)(()=>{let e=a.members,t=void 0===e?[]:e,m=a.labels,c=void 0===m?[]:m,r=t.map(e=>W.find(a=>a.id===e)),n=c.map(e=>F.find(a=>a.id===e)),s=R.members.map(e=>W.find(a=>a.id===e.id));A(e=>Object(l.a)(Object(l.a)(Object(l.a)({},e),a),{},{boardId:R.id,cardMembers:r,boardMembers:s,labels:[...n]}))},[a,F,W,R.id,R.members]);let G=C.title,Q=C.cardMembers,V=void 0===Q?[]:Q,X=C.boardMembers,Y=void 0===X?[]:X,Z=C.labels,$=void 0===Z?[]:Z,ee=C.description,ae=C.attachments,te=void 0===ae?[]:ae,le=C.comments,me=void 0===le?[]:le,ce=C.commentText;return r.a.createElement(v.a,{onClose:J,open:e,fullScreen:D,fullWidth:!0,scroll:"body"},r.a.createElement("div",{className:"scrum-board"},r.a.createElement("div",{className:"px-sm-24 pt-sm-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"flex items-center flex-grow"},r.a.createElement(s.a,{className:"text-muted"},"assignment"),r.a.createElement(f.a,{className:"flex-grow  ml-3 pl-3px pr-2 capitalize font-medium text-16",type:"text",autoFocus:!0,name:"title",onChange:U,disableUnderline:!0,value:G})),r.a.createElement(n.a,{size:"small",onClick:J},r.a.createElement(s.a,null,"clear"))),r.a.createElement("div",{className:"ml-10"},r.a.createElement("p",{className:"m-0 mb-4 text-small text-muted"},"Tech Startup Board Hot Backlog"),r.a.createElement("div",{className:"mb-4 flex flex-wrap justify-between"},r.a.createElement("div",null,r.a.createElement("h6",{className:"m-0 mb-2 uppercase text-muted"},"Card Members"),r.a.createElement("div",{className:"flex relative face-group"},V.map(e=>r.a.createElement(d.a,{key:e.id,className:"avatar",src:e.avatar})),r.a.createElement(z.p,{horizontalPosition:"center",shouldCloseOnItemClick:!1,menuButton:r.a.createElement(i.a,{title:"Add",fontSize:"large"},r.a.createElement(d.a,{className:"avatar ml--3 cursor-pointer"},"+"))},Y.map(e=>r.a.createElement(o.a,{className:"ml-0",key:e.id,control:r.a.createElement(b.a,{name:"avatar",checked:V.some(a=>a.id===e.id),onChange:U,value:e.id}),label:r.a.createElement("div",{className:"flex items-center"},r.a.createElement(d.a,{src:e.avatar,className:"size-24"}),r.a.createElement("span",{className:"ml-3"},e.name))}))))),r.a.createElement("div",null,r.a.createElement("h6",{className:"m-0 mb-2 pb-3px uppercase text-muted"},"labels"),r.a.createElement("div",{className:"button-group"},$.map(e=>r.a.createElement(N.a,{key:e.id,size:"small",variant:"contained",className:"capitalize mr-1 text-white text-small bg-".concat(e.color)},e.title)),r.a.createElement(z.p,{horizontalPosition:"right",shouldCloseOnItemClick:!1,menuButton:r.a.createElement(i.a,{title:"Add",fontSize:"large"},r.a.createElement(N.a,{className:"bg-light-gray",size:"small"},"+"))},F.map(e=>r.a.createElement(o.a,{className:"ml-0",key:e.id,control:r.a.createElement(b.a,{checked:$.some(a=>a.id===e.id),onChange:U,value:e.id,name:"label"}),label:r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"border-radius-4 size-24 bg-".concat(e.color)}),r.a.createElement("span",{className:"ml-3"},e.title))})))))))),r.a.createElement(x.a,null),r.a.createElement(w.a,{className:"relative pt-4 mb-4 max-h-380"},r.a.createElement("div",{className:"px-sm-24 pt-4"},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement(s.a,{className:"text-muted"},"description"),r.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"description")),r.a.createElement("div",{className:"ml-10 mb-4 flex"},r.a.createElement(h.a,{className:"text-muted",onChange:U,name:"description",value:ee,variant:"outlined",fullWidth:!0,multiline:!0})),r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{className:"text-muted"},"attach_file"),r.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"attachments")),r.a.createElement("label",{htmlFor:"upload-file"},r.a.createElement(N.a,{className:"text-primary uppercase font-medium",component:"span"},"+ add an attachment")),r.a.createElement("input",{className:"hidden",id:"upload-file",type:"file",multiple:!0})),r.a.createElement("div",{className:"ml-10 mb-4"},r.a.createElement(g.a,{container:!0,spacing:2},te.map((e,a)=>r.a.createElement(g.a,{key:a,item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement(j.a,{className:"p-4 flex items-center bg-default h-full",elevation:2},r.a.createElement("div",{className:"flex items-center border-radius-8"},r.a.createElement("img",{className:"w-full",src:e.url,alt:"cover"})),r.a.createElement("div",{className:"ml-4"},r.a.createElement("h6",{className:"m-0 text-muted capitalize"},e.name),r.a.createElement("small",{className:"text-muted text-small capitalize"},e.size)),r.a.createElement(z.p,{horizontalPosition:"center",menuButton:r.a.createElement(n.a,{className:"ml-4"},r.a.createElement(s.a,null,"more_vert"))},r.a.createElement(O.a,{className:"flex items-center min-w-164",onClick:()=>{return a=e.url,void A(Object(l.a)(Object(l.a)({},C),{},{coverImage:a}));var a}},r.a.createElement(s.a,null," insert_photo "),r.a.createElement("span",{className:"pl-4"}," ","Make Cover"," ")),r.a.createElement(O.a,{onClick:()=>(e=>{let a=C.attachments,t=void 0===a?[]:a;t.splice(e,1),A(Object(l.a)(Object(l.a)({},C),{},{attachments:t}))})(a),className:"flex items-center min-w-164"},r.a.createElement(s.a,null," delete "),r.a.createElement("span",{className:"pl-4"}," ","Remove"," "))))))))),r.a.createElement(x.a,{className:"my-4"}),r.a.createElement("div",{className:"px-sm-24"},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement(s.a,{className:"text-muted"},"message"),r.a.createElement("h6",{className:"m-0 ml-4 uppercase text-muted"},"comments")),r.a.createElement("div",{className:"comments ml-10"},me.map(e=>{let a=W.find(a=>a.id===e.uid);return r.a.createElement("div",{className:"mb-4",key:e.id},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement(d.a,{className:"avatar size-36",src:a.avatar}),r.a.createElement("div",{className:"ml-3"},r.a.createElement("h6",{className:"m-0"},a.name),r.a.createElement("small",null,Object(k.d)(new Date(e.time))," ","ago"))),r.a.createElement("p",{className:"m-0 text-muted"},e.text))}),r.a.createElement("div",{className:"flex items-center mb-4"},r.a.createElement(d.a,{className:"avatar size-36",src:L.photoURL}),r.a.createElement("div",{className:"flex-grow flex"},r.a.createElement(h.a,{className:"ml-3 text-muted",onChange:U,onKeyDown:U,variant:"outlined",name:"commentText",value:ce||"",fullWidth:!0,inputProps:{style:{padding:"10px"}}})),r.a.createElement(N.a,{onClick:q},"Send"))))),r.a.createElement("div",{className:"px-sm-24 mb-3 flex justify-end"},r.a.createElement(N.a,{className:"mr-3",onClick:J},"Cancel"),r.a.createElement(N.a,{onClick:()=>{let e=C.id,a=C.title,t=C.coverImage,l=C.cardMembers,m=void 0===l?[]:l,c=C.labels,r=void 0===c?[]:c,n=C.description,s=C.attachments,i=void 0===s?[]:s,d=C.comments,o=void 0===d?[]:d,b=C.listId,p=C.boardId,u={id:e,title:a,coverImage:t,members:m.map(e=>e.id),labels:r.map(e=>e.id),description:n,attachments:i,comments:o};P(Object(S.D)(p,b,u)),J()},variant:"contained",color:"primary"},"Save"))))},P=t(2187),T=t(2192),D=t(110);const M=Object(D.a)(e=>{e.palette,Object(m.a)(e,["palette"]);return{root:{width:"32px",height:"6px",borderRadius:"6px",overflow:"hidden",marginRight:"8px"}}});var L=({color:e="primary"})=>{const a=M();return r.a.createElement("div",{className:"bg-".concat(e," ").concat(a.root)})};var B=({card:e})=>{let a=e.title,t=e.members,l=void 0===t?[]:t,m=e.labels,c=void 0===m?[]:m,n=e.coverImage,i=e.attachments,o=e.comments;const b=Object(I.d)(e=>e.scrumboard),p=b.memberList,u=void 0===p?[]:p,E=b.labelList,v=void 0===E?[]:E;let f=l.map(e=>u.find(a=>a.id===e)),x=c.map(e=>v.find(a=>a.id===e));return r.a.createElement("div",{className:"scrum-board-card"},n&&r.a.createElement("img",{className:"border-radius-4 w-full",src:n,alt:"stair"}),r.a.createElement("div",{className:"px-4 py-3"},0!==x.length&&r.a.createElement("div",{className:"flex mb-3 font-medium"},x.map(e=>e&&r.a.createElement(L,{key:e.id,color:e.color}))),r.a.createElement("h6",{className:"m-0 font-medium"},a),(0!==o.length||0!==i.length||0!==l.length)&&r.a.createElement("div",{className:"flex items-center justify-between mt-3 button-group text-small"},r.a.createElement("div",{className:"flex"},0!==o.length&&r.a.createElement(N.a,{size:"small"},r.a.createElement(s.a,{className:"mr-1 text-small",fontSize:"small"},"chat"),r.a.createElement("span",null,o.length)),0!==i.length&&r.a.createElement(N.a,{size:"small"},r.a.createElement(s.a,{className:"mr-1 text-small",fontSize:"small"},"attach_file"),r.a.createElement("span",null,i.length))),r.a.createElement("div",{className:"flex relative face-group"},f.map(e=>e&&r.a.createElement(d.a,{key:e.id,className:"avatar",src:e.avatar}))))))};var K=({data:e,handleCardClick:a})=>{const t=Object(c.useState)(!1),m=Object(p.a)(t,2),i=m[0],d=m[1],o=Object(c.useState)(!1),b=Object(p.a)(o,2),E=b[0],v=b[1],f=Object(c.useState)(""),x=Object(p.a)(f,2),g=x[0],y=x[1],k=Object(c.useState)(""),C=Object(p.a)(k,2),A=C[0],D=C[1],M=Object(I.c)(),L=Object(I.d)(e=>e.scrumboard).board,K=void 0===L?{}:L,R=e=>{let a=e.target.name,t=e.target.value;"cardTitleText"===a?"Enter"!==e.key||e.shiftKey?y(t):F():"Enter"!==e.key||e.shiftKey?D(t):_()},_=()=>{M(Object(S.A)({boardId:K.id,listId:e.column.id,listTitle:A})),W(!1)},W=e=>{d(e)},H=e=>{v(e)},F=()=>{""!==g.trim()&&(M(Object(S.s)({boardId:K.id,listId:e.column.id,cardTitle:g})),y(""))},J=()=>{M(Object(S.t)({boardId:K.id,listId:e.column.id}))};Object(c.useEffect)(()=>{var a;let t=null===e||void 0===e||null===(a=e.column)||void 0===a?void 0:a.title;t&&D(t)},[e]);let U=e.provided,q=e.snapshot,G=e.column;return r.a.createElement(j.a,Object.assign({className:"mx-3 relative pt-2 w-288",elevation:q.isDragging?10:3,ref:U.innerRef},U.draggableProps,U.dragHandleProps,{style:Object(l.a)({},U.draggableProps.style)}),r.a.createElement(u.c,{droppableId:G.id,direction:"vertical",type:"card"},(e,t)=>r.a.createElement("div",{ref:e.innerRef,className:"relative"},r.a.createElement("div",{className:"flex items-center justify-between pb-2"},i?r.a.createElement(P.a,{onClickAway:()=>W(!1)},r.a.createElement(h.a,{className:"pl-4",size:"small",variant:"outlined",value:A,onChange:R,onKeyDown:R,name:"columnTitleText",InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},r.a.createElement(n.a,{size:"small",onClick:_},r.a.createElement(s.a,{fontSize:"small"},"done")))}})):r.a.createElement("h4",{className:"m-0 flex-grow py-1 pl-4 capitalize",onClick:()=>W(!0)},G.title),r.a.createElement(z.p,{horizontalPosition:"right",menuButton:r.a.createElement(n.a,null,r.a.createElement(s.a,null,"more_vert"))},r.a.createElement(O.a,{className:"flex items-center min-w-148"},r.a.createElement(s.a,null," settings "),r.a.createElement("span",{className:"pl-4"}," Settings ")),r.a.createElement(O.a,{onClick:J,className:"flex items-center min-w-148"},r.a.createElement(s.a,null," delete "),r.a.createElement("span",{className:"pl-4"}," Delete ")))),r.a.createElement(w.a,{className:"relative h-380 px-4"},G.cardList.map((e,t)=>r.a.createElement(u.b,{key:e.id,draggableId:e.id,index:t,type:"card"},(t,m)=>r.a.createElement(j.a,Object.assign({className:"mb-4 border-radius-4 bg-light-gray",elevation:m.isDragging?10:3,onClick:()=>a(Object(l.a)(Object(l.a)({},e),{},{listId:G.id})),ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:Object(l.a)({},t.draggableProps.style)}),r.a.createElement(B,{card:e}))))),e.placeholder)),E?r.a.createElement(P.a,{onClickAway:()=>H(!1)},r.a.createElement(j.a,{className:"position-bottom border-radius-0 cursor-pointer p-4 w-full",elevation:5},r.a.createElement(h.a,{size:"small",className:"mb-3",variant:"outlined",name:"cardTitleText",value:g,fullWidth:!0,onChange:R,onKeyDown:R,InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},r.a.createElement(n.a,{size:"small",onClick:()=>H(!1)},r.a.createElement(s.a,{fontSize:"small"},"clear")))}}),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement(N.a,{onClick:F,variant:"contained",color:"primary"},"Add")))):r.a.createElement("div",{className:"flex"},r.a.createElement(N.a,{className:"font-medium flex-grow border-radius-0",variant:"contained",color:"primary",onClick:()=>H(!0)},"+ Add Card")))};var R=({list:e=[],handleAddList:a,handleAddNewCard:t})=>{const l=Object(c.useState)(null),m=Object(p.a)(l,2),i=m[0],o=m[1],b=Object(c.useState)(!1),E=Object(p.a)(b,2),v=E[0],f=E[1],x=Object(c.useState)(!1),g=Object(p.a)(x,2),O=g[0],y=g[1],k=Object(c.useState)(""),C=Object(p.a)(k,2),z=C[0],D=C[1],M=Object(I.c)(),L=Object(I.d)(e=>e.scrumboard).board,B=void 0===L?{}:L,R=e=>{o(e),f(!0)},_=()=>{f(!1)},W=e=>{y(e)},H=e=>{"Enter"!==e.key||e.shiftKey?D(e.target.value):(a(z),D(""))};return r.a.createElement(w.a,{className:"relative flex pb-4 w-full"},r.a.createElement(u.a,{onDragEnd:e=>{const a=e.source,t=e.destination;t&&("horizontal-droppable"===a.droppableId?M(Object(S.C)(B.id,a.index,t.index)):a.droppableId===t.droppableId?M(Object(S.B)(B.id,a.droppableId,a.index,t.index)):M(Object(S.z)(B.id,a.droppableId,t.droppableId,a,t)))}},r.a.createElement(u.c,{droppableId:"horizontal-droppable",direction:"horizontal"},a=>r.a.createElement("div",Object.assign({ref:a.innerRef},a.droppableProps,{className:"flex"}),e.map((e,a)=>r.a.createElement(u.b,{key:e.id,draggableId:e.id,index:a,type:"column"},(a,l)=>r.a.createElement(K,{data:{provided:a,snapshot:l,column:e},handleCardClick:R,handleDialogClose:_,handleAddNewCard:t}))),a.placeholder))),r.a.createElement("div",null,O?r.a.createElement(P.a,{onClickAway:()=>W(!1)},r.a.createElement(j.a,{className:"mx-3 border-radius-0 cursor-pointer p-4 min-w-288",elevation:3},r.a.createElement(h.a,{size:"small",className:"mb-3",variant:"outlined",name:"columnTitle",value:z,fullWidth:!0,onChange:H,onKeyDown:H,InputProps:{endAdornment:r.a.createElement(T.a,{position:"end"},r.a.createElement(n.a,{size:"small",onClick:()=>W(!1)},r.a.createElement(s.a,{fontSize:"small"},"clear")))}}),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement(N.a,{onClick:()=>{a(z),D("")},variant:"contained",color:"primary"},"Add")))):r.a.createElement(j.a,{className:"mx-3 cursor-pointer flex items-center py-4 px-4 bg-light-gray min-w-288",elevation:3,onClick:()=>W(!0)},r.a.createElement(d.a,{className:"size-24 bg-error"},"+"),r.a.createElement("span",{className:"ml-8 font-medium"},"Add List"))),v&&r.a.createElement(A,{card:i,open:v,handleClose:_}))},_=t(71),W=t(68),H=t(3);const F=Object(D.a)(e=>{e.palette,Object(m.a)(e,["palette"]);return{avatar:{border:"2px solid white"}}});a.default=()=>{const e=Object(I.d)(e=>e.scrumboard),a=e.board,t=void 0===a?{}:a,m=e.memberList,p=void 0===m?[]:m,u=Object(_.i)().id,E=Object(I.c)(),v=F();Object(c.useEffect)(()=>{E(Object(S.y)(u)),E(Object(S.x)()),E(Object(S.w)())},[u,E]);const f=e=>{let a=e.target.value,l=t.members,m=t.id;l.some(e=>e.id===a)?E(Object(S.u)({boardId:m,memberId:a})):E(Object(S.q)({boardId:m,memberId:a}))};let N=t.members,x=void 0===N?[]:N,h=t.title,g=t.list,j=void 0===g?[]:g;return r.a.createElement("div",{className:"scrum-board m-sm-30"},r.a.createElement("div",{className:"flex flex-wrap items-center justify-between mb-4"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(W.a,{to:"/scrum-board"},r.a.createElement(n.a,null,r.a.createElement(s.a,null,"arrow_back"))),r.a.createElement("h5",{className:"m-0 ml-2 capitalize"},h),r.a.createElement(n.a,{className:"ml-2"},r.a.createElement(s.a,null,"star_outline"))),r.a.createElement("div",{className:"flex relative mr-2 items-center"},x.map((e,a)=>r.a.createElement(i.a,{key:a,title:e.name,fontSize:"large"},r.a.createElement(d.a,{className:Object(H.default)("h-24 w-24 ml--2",v.avatar),src:e.avatar}))),r.a.createElement(z.p,{horizontalPosition:"right",shouldCloseOnItemClick:!1,menuButton:r.a.createElement(i.a,{title:"Add",fontSize:"large"},r.a.createElement(d.a,{className:Object(H.default)("h-24 w-24 ml--2 cursor-pointer",v.avatar)},"+"))},p.map(e=>r.a.createElement(o.a,{className:"ml-0",key:e.id,control:r.a.createElement(b.a,{checked:x.some(a=>a.id===e.id),onChange:f,value:e.id}),label:r.a.createElement("div",{className:"flex items-center"},r.a.createElement(d.a,{src:e.avatar,className:"size-24"}),r.a.createElement("span",{className:"ml-3"},e.name))}))))),r.a.createElement("div",{className:"relative"},r.a.createElement(R,{list:j,handleAddList:e=>{""!==e&&E(Object(S.p)({boardId:u,listTitle:e}))},handleAddNewCard:e=>{E(Object(S.s)(Object(l.a)({boardId:u},e)))}})))}}}]);